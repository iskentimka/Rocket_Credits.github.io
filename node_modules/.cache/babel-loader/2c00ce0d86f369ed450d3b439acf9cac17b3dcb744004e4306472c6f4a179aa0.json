{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate,useLocation}from\"react-router-dom\";import{useAuth}from\"../context/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Payment=()=>{var _location$state;const location=useLocation();const planDetails=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.planDetails)||{name:\"Standard Plan\",price:9.99};const[method,setMethod]=useState(\"card\");const[showRocketInfo,setShowRocketInfo]=useState(false);const[rocketPaymentType,setRocketPaymentType]=useState(\"credit\");// \"credit\" or \"installment\"\nconst[returnDate,setReturnDate]=useState(\"\");const[returnAmount,setReturnAmount]=useState(0);const[installmentPeriod,setInstallmentPeriod]=useState(3);// Default 3 months\nconst[cardDetails,setCardDetails]=useState({cardNumber:\"\",cardName:\"\",expiryDate:\"\",cvv:\"\"});const[paypalDetails,setPaypalDetails]=useState({email:\"\",password:\"\"});const[error,setError]=useState(\"\");const[isLoading,setIsLoading]=useState(false);const[loadingProgress,setLoadingProgress]=useState(0);const{user,canUseRocketCredits,increaseRiskScore}=useAuth();const navigate=useNavigate();// Calculate monthly installment amount\nconst monthlyInstallment=(planDetails.price*(installmentPeriod>3?1.4:1.2)/installmentPeriod).toFixed(2);// Check if user can use Rocket Credits\nuseEffect(()=>{if(method===\"rocket\"&&user){const rocketEligibility=canUseRocketCredits(user.email);if(!rocketEligibility.allowed){setError(rocketEligibility.message);// Reset payment method to card\nsetMethod(\"card\");}else{setError(\"\");}}},[method,user,canUseRocketCredits]);// Check user status when component loads\nuseEffect(()=>{if(user){// Get users array\nconst users=JSON.parse(localStorage.getItem('users')||'[]');// Find user\nconst userData=users.find(u=>u.email===user.email);// If user is marked as bad, show warning\nif(userData&&userData.status==='bad'){setError(\"Note: Due to your payment history, some payment methods may be restricted.\");}}},[user]);const handlePayment=async()=>{// Clear previous errors and reset progress\nsetError(\"\");setIsLoading(true);setLoadingProgress(0);try{if(method===\"rocket\"){// Get users array to check if user is bad\nconst users=JSON.parse(localStorage.getItem('users')||'[]');const userData=users.find(u=>u.email===user.email);// Simulate payment processing with progress updates\nfor(let i=0;i<=100;i+=20){await new Promise(resolve=>setTimeout(resolve,600));// 5 steps * 600ms = 3 seconds total\nsetLoadingProgress(i);}// After loading, check if user is bad and show error\nif(userData&&userData.status==='bad'||userData&&userData.email==='baduser@example.com'){setError(\"We apologize, but we cannot provide Rocket Credits at this time due to your payment history. Please try another payment method.\");setIsLoading(false);window.scrollTo({top:0,behavior:'smooth'});return;}}else if(method===\"card\"){// Validate card details\nif(!cardDetails.cardNumber||!cardDetails.cardName||!cardDetails.expiryDate||!cardDetails.cvv){setError(\"Please fill in all card details\");setIsLoading(false);window.scrollTo({top:0,behavior:'smooth'});return;}// Check for suspicious card behavior (demo purposes)\nif(cardDetails.cardNumber===\"1111222233334444\"){// This is a known bad card number for demo\nif(user){increaseRiskScore(user.email,30);setError(\"This card has been flagged for suspicious activity. Your account risk score has been increased.\");setIsLoading(false);window.scrollTo({top:0,behavior:'smooth'});return;}}// Simulate payment processing with progress updates\nfor(let i=0;i<=100;i+=20){await new Promise(resolve=>setTimeout(resolve,600));setLoadingProgress(i);}}else if(method===\"paypal\"){// Validate PayPal details\nif(!paypalDetails.email||!paypalDetails.password){setError(\"Please fill in all PayPal details\");setIsLoading(false);window.scrollTo({top:0,behavior:'smooth'});return;}// Simulate payment processing with progress updates\nfor(let i=0;i<=100;i+=20){await new Promise(resolve=>setTimeout(resolve,600));setLoadingProgress(i);}}// If we get here and it's not a bad user with Rocket Credits, payment was successful\nwindow.scrollTo({top:0,behavior:'smooth'});navigate(\"/payment-success\");}catch(error){setError(\"An error occurred while processing your payment. Please try again.\");window.scrollTo({top:0,behavior:'smooth'});}finally{setIsLoading(false);setLoadingProgress(0);}};const handleRocketSelect=()=>{// Check if user can use Rocket Credits before setting method\nif(user){const rocketEligibility=canUseRocketCredits(user.email);if(!rocketEligibility.allowed){setError(rocketEligibility.message);// Keep current payment method instead of switching to rocket\nreturn;}}setMethod(\"rocket\");setShowRocketInfo(true);};const closeRocketInfo=()=>{setShowRocketInfo(false);};const handleCardChange=e=>{const{name,value}=e.target;setCardDetails(prev=>({...prev,[name]:value}));};const handlePaypalChange=e=>{const{name,value}=e.target;setPaypalDetails(prev=>({...prev,[name]:value}));};const handleReturnDateChange=e=>{const selectedDate=e.target.value;setReturnDate(selectedDate);// Calculate return amount based on selected date\nconst today=new Date();const returnDay=new Date(selectedDate);const diffTime=Math.abs(returnDay-today);const diffDays=Math.ceil(diffTime/(1000*60*60*24));// Calculate return amount: shorter period = higher return percentage\nlet returnPercentage=0;if(diffDays<=30){returnPercentage=1.3;}else if(diffDays<=60){returnPercentage=1.5;}else if(diffDays<=90){returnPercentage=1.7;}else{returnPercentage=2.0;}setReturnAmount((planDetails.price*returnPercentage).toFixed(2));};const handleInstallmentPeriodChange=e=>{setInstallmentPeriod(parseInt(e.target.value));};// Get minimum date (today) and maximum date (1 year from now)\nconst today=new Date().toISOString().split('T')[0];const maxDate=new Date();maxDate.setFullYear(maxDate.getFullYear()+1);const maxDateString=maxDate.toISOString().split('T')[0];// Calculate the circle's circumference and offset\nconst radius=30;const circumference=2*Math.PI*radius;const offset=circumference-loadingProgress/100*circumference;// Display error message with more prominence\nconst renderErrorMessage=()=>{if(!error)return null;// Check if it's a payment history related error\nconst isPaymentHistoryError=error.includes(\"payment history\")||error.includes(\"suspicious payment\")||error.includes(\"risk assessment\");return/*#__PURE__*/_jsxs(\"div\",{className:`p-4 rounded-lg mt-4 mb-4 text-center border-l-4 ${isPaymentHistoryError?'bg-red-800 border-red-500':'bg-yellow-800 border-yellow-500'}`,children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-medium\",children:error}),isPaymentHistoryError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm mt-2\",children:\"You can still complete your purchase using other payment methods.\"})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4 text-center\",children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-8 rounded-lg shadow-lg text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-24 h-24 mx-auto mb-4\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"transform -rotate-90 w-24 h-24\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"48\",cy:\"48\",r:radius,stroke:\"rgba(255,255,255,0.1)\",strokeWidth:\"8\",fill:\"transparent\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"48\",cy:\"48\",r:radius,stroke:\"#10B981\",strokeWidth:\"8\",fill:\"transparent\",strokeLinecap:\"round\",strokeDasharray:circumference,strokeDashoffset:offset,style:{transition:'stroke-dashoffset 0.5s ease'}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold text-white\",children:[loadingProgress,\"%\"]})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-white\",children:\"Processing your payment...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mt-2\",children:\"Please do not close this window.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-left text-sm text-gray-400\",children:[/*#__PURE__*/_jsx(\"p\",{className:loadingProgress>=20?'text-green-400':'',children:\"\\u2713 Validating payment details...\"}),/*#__PURE__*/_jsx(\"p\",{className:loadingProgress>=40?'text-green-400':'',children:\"\\u2713 Securing transaction...\"}),/*#__PURE__*/_jsx(\"p\",{className:loadingProgress>=60?'text-green-400':'',children:\"\\u2713 Processing payment...\"}),/*#__PURE__*/_jsx(\"p\",{className:loadingProgress>=80?'text-green-400':'',children:\"\\u2713 Confirming transaction...\"}),/*#__PURE__*/_jsx(\"p\",{className:loadingProgress>=100?'text-green-400':'',children:\"\\u2713 Finalizing payment...\"})]})]})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:\"Select Payment Method\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-4 rounded-lg mb-6 max-w-md mx-auto\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold mb-2\",children:[\"Selected Plan: \",planDetails.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300\",children:[\"$\",planDetails.price,\" / month\"]})]}),renderErrorMessage(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-10 mt-4\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:`${process.env.PUBLIC_URL}/images/card.png`,alt:\"Credit Card\",className:`payment-icon ${method===\"card\"?\"selected\":\"\"}`,onClick:()=>{setMethod(\"card\");setError(\"\");}}),/*#__PURE__*/_jsx(\"img\",{src:`${process.env.PUBLIC_URL}/images/paypal.png`,alt:\"PayPal\",className:`payment-icon ${method===\"paypal\"?\"selected\":\"\"}`,onClick:()=>{setMethod(\"paypal\");setError(\"\");}}),/*#__PURE__*/_jsx(\"img\",{src:`${process.env.PUBLIC_URL}/images/rocket.png`,alt:\"Rocket Credits\",className:`payment-icon ${method===\"rocket\"?\"selected\":\"\"}`,onClick:handleRocketSelect})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 max-w-md mx-auto\",children:[method===\"card\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Credit Card Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cardNumber\",placeholder:\"Card Number:1234 5678 9012 3456\",value:cardDetails.cardNumber,onChange:handleCardChange,className:\"w-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cardName\",placeholder:\"Cardholder Name: John Doe\",value:cardDetails.cardName,onChange:handleCardChange,className:\"w-full\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"expiryDate\",placeholder:\"Expiry Date: MM/YY\",value:cardDetails.expiryDate,onChange:handleCardChange,className:\"w-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cvv\",placeholder:\"CVV: 123\",value:cardDetails.cvv,onChange:handleCardChange,className:\"w-full\"})})]})]})]}),method===\"paypal\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"PayPal Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email: email@example.com\",value:paypalDetails.email,onChange:handlePaypalChange,className:\"w-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password: Your PayPal password\",value:paypalDetails.password,onChange:handlePaypalChange,className:\"w-full\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"You will be redirected to PayPal to complete your payment securely.\"})]})]}),method===\"rocket\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Rocket Payment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-700 p-4 rounded-lg mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-300 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"paragraph\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Rocket Credits is our secure payment solution that analyzes your account information to provide flexible payment options for your subscription.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"paragraph\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Account Analysis: We scan and analyze your account information only after your explicit agreement with our platform.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"paragraph\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Usage Restrictions: Rocket Credits can only be used for subscription payments on our platform. No other spending is allowed.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"paragraph\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Payment Options: Choose between credit or installment payment plans.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"paragraph\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Credit Terms: Longer repayment periods result in higher percentage rates added to the provided amount.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"paragraph\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Installment Flexibility: Select your preferred payment period (weekly, monthly, or yearly). Longer periods incur higher percentage rates.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"paragraph\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400\",children:\"Important Note: Rocket Credits reserves the right to reject credit applications without explanation.\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Choose Payment Type\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:`px-4 py-2 rounded ${rocketPaymentType===\"credit\"?\"bg-green-600\":\"bg-gray-700\"}`,onClick:()=>setRocketPaymentType(\"credit\"),children:\"Credit Plan\"}),/*#__PURE__*/_jsx(\"button\",{className:`px-4 py-2 rounded ${rocketPaymentType===\"installment\"?\"bg-green-600\":\"bg-gray-700\"}`,onClick:()=>setRocketPaymentType(\"installment\"),children:\"Installment Plan\"})]})]}),rocketPaymentType===\"credit\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-700 pt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Credit Plan\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300 mb-3\",children:[\"Pay the full amount now ($\",planDetails.price,\") and select a return date. The longer the period you choose, the higher the percentage rate will be added to your payment.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-300 mb-1\",children:\"Return Date: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",min:today,max:maxDateString,value:returnDate,onChange:handleReturnDateChange,className:\"w-full\"})]}),returnDate&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-3 rounded mb-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl text-green-400\",children:[\"Your dept $\",returnAmount,\" back\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"(The return amount increases the longer you avoid to pay)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-red-400 mt-2\",children:\"Note: The percentage rate increases with longer return periods\"})]})]}),rocketPaymentType===\"installment\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-700 pt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Installment Plan\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-300 mb-3\",children:\"Split your payment into installments. Choose your preferred period (weekly, monthly, or yearly). The longer the period, the higher the percentage rate will be added to your total payment.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-300 mb-1\",children:\"Payment Period: \"}),/*#__PURE__*/_jsxs(\"select\",{value:installmentPeriod,onChange:handleInstallmentPeriodChange,className:\"w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Monthly (3 months)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\",children:\"Monthly (6 months)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"12\",children:\"Monthly (1 year)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-3 rounded mb-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:\"Payment Schedule:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-md\",children:[\"Total: $\",planDetails.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl text-green-400\",children:[\"$\",monthlyInstallment,\" / \",installmentPeriod==='1'?'week':'month',\" for \",installmentPeriod,\" \",installmentPeriod==='1'?'weeks':'months']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:[\"First payment due today: $\",monthlyInstallment]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-red-400 mt-2\",children:\"Note: Longer payment periods will result in higher total costs due to increased percentage rates\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-3 rounded mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-semibold mb-2\",children:\"Important Terms:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-xs text-gray-300 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Automatic payments required from your linked payment method\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Payment method must remain valid throughout the installment period\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Longer periods result in higher percentage rates\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Rocket Credits reserves the right to reject installment applications\"})]})]})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePayment,disabled:isLoading,className:`mt-6 bg-green-600 max-w-md ${isLoading?'opacity-50 cursor-not-allowed':''}`,children:isLoading?'Processing...':'Complete Payment'}),showRocketInfo&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mb-4\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white\",children:\"About Rocket Credits\"})})})})]});};export default Payment;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","useAuth","jsx","_jsx","jsxs","_jsxs","Payment","_location$state","location","planDetails","state","name","price","method","setMethod","showRocketInfo","setShowRocketInfo","rocketPaymentType","setRocketPaymentType","returnDate","setReturnDate","returnAmount","setReturnAmount","installmentPeriod","setInstallmentPeriod","cardDetails","setCardDetails","cardNumber","cardName","expiryDate","cvv","paypalDetails","setPaypalDetails","email","password","error","setError","isLoading","setIsLoading","loadingProgress","setLoadingProgress","user","canUseRocketCredits","increaseRiskScore","navigate","monthlyInstallment","toFixed","rocketEligibility","allowed","message","users","JSON","parse","localStorage","getItem","userData","find","u","status","handlePayment","i","Promise","resolve","setTimeout","window","scrollTo","top","behavior","handleRocketSelect","closeRocketInfo","handleCardChange","e","value","target","prev","handlePaypalChange","handleReturnDateChange","selectedDate","today","Date","returnDay","diffTime","Math","abs","diffDays","ceil","returnPercentage","handleInstallmentPeriodChange","parseInt","toISOString","split","maxDate","setFullYear","getFullYear","maxDateString","radius","circumference","PI","offset","renderErrorMessage","isPaymentHistoryError","includes","className","children","cx","cy","r","stroke","strokeWidth","fill","strokeLinecap","strokeDasharray","strokeDashoffset","style","transition","src","process","env","PUBLIC_URL","alt","onClick","type","placeholder","onChange","min","max","disabled"],"sources":["/Users/edzhisk/Desktop/Rocket Credits/src/pages/Payment.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\n\nconst Payment = () => {\n  const location = useLocation();\n  const planDetails = location.state?.planDetails || { name: \"Standard Plan\", price: 9.99 };\n  \n  const [method, setMethod] = useState(\"card\");\n  const [showRocketInfo, setShowRocketInfo] = useState(false);\n  const [rocketPaymentType, setRocketPaymentType] = useState(\"credit\"); // \"credit\" or \"installment\"\n  const [returnDate, setReturnDate] = useState(\"\");\n  const [returnAmount, setReturnAmount] = useState(0);\n  const [installmentPeriod, setInstallmentPeriod] = useState(3); // Default 3 months\n  const [cardDetails, setCardDetails] = useState({\n    cardNumber: \"\",\n    cardName: \"\",\n    expiryDate: \"\",\n    cvv: \"\"\n  });\n  const [paypalDetails, setPaypalDetails] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadingProgress, setLoadingProgress] = useState(0);\n  const { user, canUseRocketCredits, increaseRiskScore } = useAuth();\n  const navigate = useNavigate();\n\n  // Calculate monthly installment amount\n  const monthlyInstallment = (planDetails.price * (installmentPeriod > 3 ? 1.4 : 1.2) / installmentPeriod).toFixed(2);\n\n  // Check if user can use Rocket Credits\n  useEffect(() => {\n    if (method === \"rocket\" && user) {\n      const rocketEligibility = canUseRocketCredits(user.email);\n      if (!rocketEligibility.allowed) {\n        setError(rocketEligibility.message);\n        // Reset payment method to card\n        setMethod(\"card\");\n      } else {\n        setError(\"\");\n      }\n    }\n  }, [method, user, canUseRocketCredits]);\n\n  // Check user status when component loads\n  useEffect(() => {\n    if (user) {\n      // Get users array\n      const users = JSON.parse(localStorage.getItem('users') || '[]');\n      \n      // Find user\n      const userData = users.find(u => u.email === user.email);\n      \n      // If user is marked as bad, show warning\n      if (userData && userData.status === 'bad') {\n        setError(\"Note: Due to your payment history, some payment methods may be restricted.\");\n      }\n    }\n  }, [user]);\n\n  const handlePayment = async () => {\n    // Clear previous errors and reset progress\n    setError(\"\");\n    setIsLoading(true);\n    setLoadingProgress(0);\n\n    try {\n      if (method === \"rocket\") {\n        // Get users array to check if user is bad\n        const users = JSON.parse(localStorage.getItem('users') || '[]');\n        const userData = users.find(u => u.email === user.email);\n        \n        // Simulate payment processing with progress updates\n        for (let i = 0; i <= 100; i += 20) {\n          await new Promise(resolve => setTimeout(resolve, 600)); // 5 steps * 600ms = 3 seconds total\n          setLoadingProgress(i);\n        }\n\n        // After loading, check if user is bad and show error\n        if (userData && userData.status === 'bad' || (userData && userData.email === 'baduser@example.com')) {\n          setError(\"We apologize, but we cannot provide Rocket Credits at this time due to your payment history. Please try another payment method.\");\n          setIsLoading(false);\n          window.scrollTo({ top: 0, behavior: 'smooth' });\n          return;\n        }\n      } else if (method === \"card\") {\n        // Validate card details\n        if (!cardDetails.cardNumber || !cardDetails.cardName || !cardDetails.expiryDate || !cardDetails.cvv) {\n          setError(\"Please fill in all card details\");\n          setIsLoading(false);\n          window.scrollTo({ top: 0, behavior: 'smooth' });\n          return;\n        }\n\n        // Check for suspicious card behavior (demo purposes)\n        if (cardDetails.cardNumber === \"1111222233334444\") {\n          // This is a known bad card number for demo\n          if (user) {\n            increaseRiskScore(user.email, 30);\n            setError(\"This card has been flagged for suspicious activity. Your account risk score has been increased.\");\n            setIsLoading(false);\n            window.scrollTo({ top: 0, behavior: 'smooth' });\n            return;\n          }\n        }\n\n        // Simulate payment processing with progress updates\n        for (let i = 0; i <= 100; i += 20) {\n          await new Promise(resolve => setTimeout(resolve, 600));\n          setLoadingProgress(i);\n        }\n      } else if (method === \"paypal\") {\n        // Validate PayPal details\n        if (!paypalDetails.email || !paypalDetails.password) {\n          setError(\"Please fill in all PayPal details\");\n          setIsLoading(false);\n          window.scrollTo({ top: 0, behavior: 'smooth' });\n          return;\n        }\n\n        // Simulate payment processing with progress updates\n        for (let i = 0; i <= 100; i += 20) {\n          await new Promise(resolve => setTimeout(resolve, 600));\n          setLoadingProgress(i);\n        }\n      }\n\n      // If we get here and it's not a bad user with Rocket Credits, payment was successful\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n      navigate(\"/payment-success\");\n    } catch (error) {\n      setError(\"An error occurred while processing your payment. Please try again.\");\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    } finally {\n      setIsLoading(false);\n      setLoadingProgress(0);\n    }\n  };\n\n  const handleRocketSelect = () => {\n    // Check if user can use Rocket Credits before setting method\n    if (user) {\n      const rocketEligibility = canUseRocketCredits(user.email);\n      if (!rocketEligibility.allowed) {\n        setError(rocketEligibility.message);\n        // Keep current payment method instead of switching to rocket\n        return;\n      }\n    }\n    \n    setMethod(\"rocket\");\n    setShowRocketInfo(true);\n  };\n\n  const closeRocketInfo = () => {\n    setShowRocketInfo(false);\n  };\n\n  const handleCardChange = (e) => {\n    const { name, value } = e.target;\n    setCardDetails(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handlePaypalChange = (e) => {\n    const { name, value } = e.target;\n    setPaypalDetails(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleReturnDateChange = (e) => {\n    const selectedDate = e.target.value;\n    setReturnDate(selectedDate);\n    \n    // Calculate return amount based on selected date\n    const today = new Date();\n    const returnDay = new Date(selectedDate);\n    const diffTime = Math.abs(returnDay - today);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    \n    // Calculate return amount: shorter period = higher return percentage\n    let returnPercentage = 0;\n    if (diffDays <= 30) {\n      returnPercentage = 1.3; \n    } else if (diffDays <= 60) {\n      returnPercentage = 1.5;\n    } else if (diffDays <= 90) {\n      returnPercentage = 1.7;\n    } else {\n      returnPercentage = 2.0;\n    }\n    \n    setReturnAmount((planDetails.price * returnPercentage).toFixed(2));\n  };\n\n  const handleInstallmentPeriodChange = (e) => {\n    setInstallmentPeriod(parseInt(e.target.value));\n  };\n\n  // Get minimum date (today) and maximum date (1 year from now)\n  const today = new Date().toISOString().split('T')[0];\n  const maxDate = new Date();\n  maxDate.setFullYear(maxDate.getFullYear() + 1);\n  const maxDateString = maxDate.toISOString().split('T')[0];\n\n  // Calculate the circle's circumference and offset\n  const radius = 30;\n  const circumference = 2 * Math.PI * radius;\n  const offset = circumference - (loadingProgress / 100) * circumference;\n\n  // Display error message with more prominence\n  const renderErrorMessage = () => {\n    if (!error) return null;\n    \n    // Check if it's a payment history related error\n    const isPaymentHistoryError = error.includes(\"payment history\") || \n                                 error.includes(\"suspicious payment\") || \n                                 error.includes(\"risk assessment\");\n    \n    return (\n      <div className={`p-4 rounded-lg mt-4 mb-4 text-center border-l-4 ${isPaymentHistoryError ? 'bg-red-800 border-red-500' : 'bg-yellow-800 border-yellow-500'}`}>\n        <p className=\"text-white font-medium\">{error}</p>\n        {isPaymentHistoryError && (\n          <p className=\"text-gray-300 text-sm mt-2\">\n            You can still complete your purchase using other payment methods.\n          </p>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 text-center\">\n      {/* Loading Overlay */}\n      {isLoading && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-gray-800 p-8 rounded-lg shadow-lg text-center\">\n            {/* SVG Progress Circle */}\n            <div className=\"relative w-24 h-24 mx-auto mb-4\">\n              <svg className=\"transform -rotate-90 w-24 h-24\">\n                {/* Background circle */}\n                <circle\n                  cx=\"48\"\n                  cy=\"48\"\n                  r={radius}\n                  stroke=\"rgba(255,255,255,0.1)\"\n                  strokeWidth=\"8\"\n                  fill=\"transparent\"\n                />\n                {/* Progress circle */}\n                <circle\n                  cx=\"48\"\n                  cy=\"48\"\n                  r={radius}\n                  stroke=\"#10B981\"\n                  strokeWidth=\"8\"\n                  fill=\"transparent\"\n                  strokeLinecap=\"round\"\n                  strokeDasharray={circumference}\n                  strokeDashoffset={offset}\n                  style={{ transition: 'stroke-dashoffset 0.5s ease' }}\n                />\n              </svg>\n              {/* Percentage text in the middle */}\n              <div className=\"absolute inset-0 flex items-center justify-center\">\n                <span className=\"text-xl font-bold text-white\">{loadingProgress}%</span>\n              </div>\n            </div>\n            <p className=\"text-xl text-white\">Processing your payment...</p>\n            <p className=\"text-gray-400 mt-2\">Please do not close this window.</p>\n            {/* Loading steps */}\n            <div className=\"mt-4 text-left text-sm text-gray-400\">\n              <p className={loadingProgress >= 20 ? 'text-green-400' : ''}>✓ Validating payment details...</p>\n              <p className={loadingProgress >= 40 ? 'text-green-400' : ''}>✓ Securing transaction...</p>\n              <p className={loadingProgress >= 60 ? 'text-green-400' : ''}>✓ Processing payment...</p>\n              <p className={loadingProgress >= 80 ? 'text-green-400' : ''}>✓ Confirming transaction...</p>\n              <p className={loadingProgress >= 100 ? 'text-green-400' : ''}>✓ Finalizing payment...</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <h2 className=\"text-2xl font-bold mb-6\">Select Payment Method</h2>\n      <div className=\"bg-gray-800 p-4 rounded-lg mb-6 max-w-md mx-auto\">\n        <h3 className=\"text-xl font-semibold mb-2\">Selected Plan: {planDetails.name}</h3>\n        <p className=\"text-gray-300\">${planDetails.price} / month</p>\n      </div>\n      \n      {renderErrorMessage()}\n      \n      <div className=\"flex justify-center gap-10 mt-4\"> {/* Payment images layout */}\n        <img \n          src={`${process.env.PUBLIC_URL}/images/card.png`} \n          alt=\"Credit Card\" \n          className={`payment-icon ${method === \"card\" ? \"selected\" : \"\"}`} \n          onClick={() => { setMethod(\"card\"); setError(\"\"); }} \n        />\n        <img \n          src={`${process.env.PUBLIC_URL}/images/paypal.png`} \n          alt=\"PayPal\" \n          className={`payment-icon ${method === \"paypal\" ? \"selected\" : \"\"}`} \n          onClick={() => { setMethod(\"paypal\"); setError(\"\"); }} \n        />\n        <img \n          src={`${process.env.PUBLIC_URL}/images/rocket.png`} \n          alt=\"Rocket Credits\"\n          className={`payment-icon ${method === \"rocket\" ? \"selected\" : \"\"}`} \n          onClick={handleRocketSelect} \n        />\n      </div>\n\n      {/* Payment Method Forms */}\n      <div className=\"mt-6 max-w-md mx-auto\">\n        {/* Credit Card Form */}\n        {method === \"card\" && (\n          <div className=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\n            <h3 className=\"text-xl font-bold mb-4\">Credit Card Details</h3>\n            <div className=\"text-left\">\n              <div className=\"mb-3\">\n                <input \n                  type=\"text\" \n                  name=\"cardNumber\"\n                  placeholder=\"Card Number:1234 5678 9012 3456\"\n                  value={cardDetails.cardNumber}\n                  onChange={handleCardChange}\n                  className=\"w-full\"\n                />\n              </div>\n              <div className=\"mb-3\">\n                <input \n                  type=\"text\" \n                  name=\"cardName\"\n                  placeholder=\"Cardholder Name: John Doe\"\n                  value={cardDetails.cardName}\n                  onChange={handleCardChange}\n                  className=\"w-full\"\n                />\n              </div>\n              <div className=\"flex gap-4\">\n                <div className=\"mb-3 flex-1\">\n                  <input \n                    type=\"text\" \n                    name=\"expiryDate\"\n                    placeholder=\"Expiry Date: MM/YY\"\n                    value={cardDetails.expiryDate}\n                    onChange={handleCardChange}\n                    className=\"w-full\"\n                  />\n                </div>\n                <div className=\"mb-3 flex-1\">\n                  <input \n                    type=\"text\" \n                    name=\"cvv\"\n                    placeholder=\"CVV: 123\"\n                    value={cardDetails.cvv}\n                    onChange={handleCardChange}\n                    className=\"w-full\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* PayPal Form */}\n        {method === \"paypal\" && (\n          <div className=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\n            <h3 className=\"text-xl font-bold mb-4\">PayPal Login</h3>\n            <div className=\"text-left\">\n              <div className=\"mb-3\">\n                <input \n                  type=\"email\" \n                  name=\"email\"\n                  placeholder=\"Email: email@example.com\"\n                  value={paypalDetails.email}\n                  onChange={handlePaypalChange}\n                  className=\"w-full\"\n                />\n              </div>\n              <div className=\"mb-3\">\n                <input \n                  type=\"password\" \n                  name=\"password\"\n                  placeholder=\"Password: Your PayPal password\"\n                  value={paypalDetails.password}\n                  onChange={handlePaypalChange}\n                  className=\"w-full\"\n                />\n              </div>\n              <p className=\"text-sm text-gray-400 mt-2\">\n                You will be redirected to PayPal to complete your payment securely.\n              </p>\n            </div>\n          </div>\n        )}\n\n        {/* Rocket Credits */}\n        {method === \"rocket\" && (\n          <div className=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\n            <h3 className=\"text-xl font-bold mb-4\">Rocket Payment</h3>\n            <div className=\"bg-gray-700 p-4 rounded-lg mb-6\">\n              <div className=\"text-sm text-gray-300 flex flex-col items-center\">\n                <div className=\"paragraph\">\n                  <p>Rocket Credits is our secure payment solution that analyzes your account information to provide flexible payment options for your subscription.</p>\n                </div>\n                <div className=\"paragraph\">\n                  <p>Account Analysis: We scan and analyze your account information only after your explicit agreement with our platform.</p>\n                </div>\n                <div className=\"paragraph\">\n                  <p>Usage Restrictions: Rocket Credits can only be used for subscription payments on our platform. No other spending is allowed.</p>\n                </div>\n                <div className=\"paragraph\">\n                  <p>Payment Options: Choose between credit or installment payment plans.</p>\n                </div>\n                <div className=\"paragraph\">\n                  <p>Credit Terms: Longer repayment periods result in higher percentage rates added to the provided amount.</p>\n                </div>\n                <div className=\"paragraph\">\n                  <p>Installment Flexibility: Select your preferred payment period (weekly, monthly, or yearly). Longer periods incur higher percentage rates.</p>\n                </div>\n                <div className=\"paragraph\">\n                  <p className=\"text-red-400\">Important Note: Rocket Credits reserves the right to reject credit applications without explanation.</p>\n                </div>\n              </div>\n            </div>\n            \n            {/* Payment Type Selection */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-lg font-semibold mb-3\">Choose Payment Type</h4>\n              <div className=\"flex justify-center gap-4\">\n                <button \n                  className={`px-4 py-2 rounded ${rocketPaymentType === \"credit\" ? \"bg-green-600\" : \"bg-gray-700\"}`}\n                  onClick={() => setRocketPaymentType(\"credit\")}\n                >\n                  Credit Plan\n                </button>\n                <button \n                  className={`px-4 py-2 rounded ${rocketPaymentType === \"installment\" ? \"bg-green-600\" : \"bg-gray-700\"}`}\n                  onClick={() => setRocketPaymentType(\"installment\")}\n                >\n                  Installment Plan\n                </button>\n              </div>\n            </div>\n            \n            {/* Credit Plan Options */}\n            {rocketPaymentType === \"credit\" && (\n              <div className=\"border-t border-gray-700 pt-4\">\n                <h4 className=\"text-lg font-semibold mb-3\">Credit Plan</h4>\n                <p className=\"text-sm text-gray-300 mb-3\">\n                  Pay the full amount now (${planDetails.price}) and select a return date. The longer the period you choose, the higher the percentage rate will be added to your payment.\n                </p>\n                \n                <div className=\"text-left mb-4\">\n                  <label className=\"block text-gray-300 mb-1\">Return Date: </label>\n                  <input \n                    type=\"date\" \n                    min={today}\n                    max={maxDateString}\n                    value={returnDate}\n                    onChange={handleReturnDateChange}\n                    className=\"w-full\"\n                  />\n                </div>\n                \n                {returnDate && (\n                  <div className=\"bg-gray-700 p-3 rounded mb-3\">\n                    <p className=\"text-xl text-green-400\">Your dept ${returnAmount} back</p>\n                    <p className=\"text-xs text-gray-400 mt-1\">\n                      (The return amount increases the longer you avoid to pay)\n                    </p>\n                    <p className=\"text-xs text-red-400 mt-2\">\n                      Note: The percentage rate increases with longer return periods\n                    </p>\n                  </div>\n                )}\n              </div>\n            )}\n            \n            {/* Installment Plan Options */}\n            {rocketPaymentType === \"installment\" && (\n              <div className=\"border-t border-gray-700 pt-4\">\n                <h4 className=\"text-lg font-semibold mb-3\">Installment Plan</h4>\n                <p className=\"text-sm text-gray-300 mb-3\">\n                  Split your payment into installments. Choose your preferred period (weekly, monthly, or yearly). The longer the period, the higher the percentage rate will be added to your total payment.\n                </p>\n                \n                <div className=\"text-left mb-4\">\n                  <label className=\"block text-gray-300 mb-1\">Payment Period: </label>\n                  <select \n                    value={installmentPeriod} \n                    onChange={handleInstallmentPeriodChange}\n                    className=\"w-full\"\n                  >\n                    <option value=\"3\">Monthly (3 months)</option>\n                    <option value=\"6\">Monthly (6 months)</option>\n                    <option value=\"12\">Monthly (1 year)</option>\n                  </select>\n                </div>\n                \n                <div className=\"bg-gray-700 p-3 rounded mb-3\">\n                  <p className=\"font-bold\">Payment Schedule:</p>\n                  <p className=\"text-md\">Total: ${planDetails.price}</p>\n                  <p className=\"text-xl text-green-400\">${monthlyInstallment} / {installmentPeriod === '1' ? 'week' : 'month'} for {installmentPeriod} {installmentPeriod === '1' ? 'weeks' : 'months'}</p>\n                  <p className=\"text-xs text-gray-400 mt-1\">\n                    First payment due today: ${monthlyInstallment}\n                  </p>\n                  <p className=\"text-xs text-red-400 mt-2\">\n                    Note: Longer payment periods will result in higher total costs due to increased percentage rates\n                  </p>\n                </div>\n                \n                <div className=\"bg-gray-700 p-3 rounded mb-3\">\n                  <h5 className=\"font-semibold mb-2\">Important Terms:</h5>\n                  <ul className=\"text-xs text-gray-300 space-y-1\">\n                    <li>• Automatic payments required from your linked payment method</li>\n                    <li>• Payment method must remain valid throughout the installment period</li>\n                    <li>• Longer periods result in higher percentage rates</li>\n                    <li>• Rocket Credits reserves the right to reject installment applications</li>\n                  </ul>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      <button \n        onClick={handlePayment} \n        disabled={isLoading}\n        className={`mt-6 bg-green-600 max-w-md ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`}\n      >\n        {isLoading ? 'Processing...' : 'Complete Payment'}\n      </button>\n\n      {/* Rocket Credits Information Modal */}\n      {showRocketInfo && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50\">\n          <div className=\"bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-xl font-bold text-white\">About Rocket Credits</h3>\n            </div>\n            \n    \n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Payment;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}